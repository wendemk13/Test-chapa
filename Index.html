<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapa Payment</title>
</head>
<body>

    <h2>Chapa Payment Test</h2>
    <form id="paymentForm">
        <label>Full Name:</label>
        <input type="text" id="name" required><br><br>

        <label>Email:</label>
        <input type="email" id="email" required><br><br>

        <label>Amount (ETB):</label>
        <input type="number" id="amount" required><br><br>

        <button type="button" onclick="processPayment()">Pay Now</button>
    </form>

    <script>
        function processPayment() {
            const tx_ref = "TX-" + Date.now(); // Generate a unique transaction reference
            const amount = document.getElementById("amount").value;
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;

            const public_key = "YOUR_PUBLIC_KEY"; // Replace with your Chapa public key
            const return_url = "https://yourdomain.com/payment-success";
            const fallback_url = "https://yourdomain.com/payment-fallback";

            const chapaUrl = `https://api.chapa.co/v1/hosted/pay?public_key=${public_key}&tx_ref=${tx_ref}&amount=${amount}&currency=ETB&email=${email}&first_name=${name}&return_url=${return_url}&fallback_url=${fallback_url}`;

            // Redirect user to Chapa payment page
            window.location.href = chapaUrl;
        }
    </script>

</body>
</html>
